########################################
### MONITORS, WINDOWS AND WORKSPACES ###
########################################

# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more
# See https://wiki.hyprland.org/Configuring/Workspace-Rules/ for workspace rules

################
### MONITORS ###
################

# See https://wiki.hyprland.org/Configuring/Monitors/
monitorv2 {
  output = DP-1
  mode = preferred
  position = auto-center-right
  scale = 1.67
}

monitorv2 {
  output = eDP-2
  mode = preferred
  position = auto-center-right
  scale = 1
}

monitorv2 {
  output = DP-2
  mode = preferred
  position = auto-center-left
  # transform = 3
  # disabled = true
}


################
### LAYERRULE ##
################

layerrule {
  name = layerrule-vicinae-blur
  blur = on
  ignore_alpha = 0
  match:namespace = vicinae
}


####################
### WINDOW RULES ###
####################

# Ignore maximize requests from apps. You'll probably like this.
windowrule {
  name = windowrule-suppress-maximize
  suppress_event = maximize
  match:class = .*
}

# common modals
windowrule {
  name = windowrule-6
  float = on
  match:title = ^(Open)$
}

windowrule {
  name = windowrule-7
  float = on
  match:title = ^(Choose Files)$
}

windowrule {
  name = windowrule-8
  float = on
  match:title = ^(Save As)$
}

windowrule {
  name = windowrule-9
  float = on
  match:title = ^(Confirm to replace files)$
}

windowrule {
  name = windowrule-10
  float = on
  match:title = ^(File Operation Progress)$
}

windowrule {
  name = windowrule-11
  float = on
  match:class = ^(google-chrome)$
  match:title = ^(Open Files)$
}

windowrule {
  name = windowrule-12
  float = on
  match:class = ^(google-chrome)$
  match:title = ^(Open File)$
}

windowrule {
  name = windowrule-13
  float = on
  match:class = ^(microsoft-edge)$
  match:title = ^(Open Files)$
}

windowrule {
  name = windowrule-14
  float = on
  match:class = ^(microsoft-edge)$
  match:title = ^(Open File)$
}


windowrule {
  name = windowrule-15
  center = on
  float = on
  match:class = pavucontrol
}

windowrule {
  name = windowrule-16
  center = on
  float = on
  match:title = ^(Volume Control)$
}

windowrule {
  name = windowrule-17
  center = on
  float = on
  match:title = ^(Bluetooth)$
}

windowrule {
  name = windowrule-size-webstorm-windows
  min_size = 1200 800
  center = on
  match:class = ^(jetbrains-webstorm)$
  match:float = 1
}

# # flameshot multi-display fix
# windowrule {
#   name = windowrule-flameshot-multi-display-fix
#   move = (0) (0)
#   pin = on
#   fullscreen_state = on
#   float = on
#   match:class = (flameshot)
#   match:title = (flameshot)
# }

# windowrule {
#   name = windowrule-flameshot-multi-display-fix-DP-2
#   monitor = DP-2
#   match:class = flameshot
# }

# windowrule {
#   name = windowrule-flameshot-multi-display-fix-pin
#   pin = on
#   float = on
#   border_size = 0
#   no_blur = on
#   no_shadow = on
#   match:class = flameshot
#   match:title = flameshot-pin
# }


windowrule {
  name = windowrule-jetbrains-shipix-workspace
  workspace = 2
  match:class = ^(jetbrains-.*)$
  match:title = ^shipix-platform
}

windowrule {
  name = windowrule-jetbrains-quicargo-workspace
  workspace = 3
  match:class = ^(jetbrains-.*)$
  match:title = ^quicargo-platform
}


#######################
### WORKSPACE RULES ###
#######################

workspace = 1,monitor:DP-1,default:true
workspace = 2,monitor:DP-1
workspace = 4,monitor:DP-1
workspace = 5,monitor:DP-1
workspace = 6,monitor:DP-1
workspace = 7,monitor:DP-1
workspace = 8,monitor:DP-1
workspace = 9,monitor:DP-1
workspace = 10,monitor:DP-2,gapsin:2.5,gapsout:10 650 10 10,layout:dwindle,default:true
# workspace = 10,monitor:DP-2,layout:dwindle,default:true
# workspace = special:monitor1, monitor:DP-1, gapsout:20 150 150 20, default:true

workspace = 1, on-created-empty:brave
workspace = 3, on-created-empty:kitty
workspace = special:zen, on-created-empty:zen-browser
# workspace = special:notes, on-created-empty:kitty --hold -d ~/notes zsh -c 'source ~/.zshrc && nvim current.md'
workspace = special:magic, on-created-empty:slack
workspace = special:terminal, on-created-empty:kitty
workspace = special:lazygit, on-created-empty:kitty --hold -d $DEFAULT_WORK_DIR fish -c 'lazygit'
# workspace = special:obsidian, on-created-empty:obsidian


######################
### XWAYLAND FIXES ###
######################

# Fix some dragging issues with XWayland
windowrule {
  name = windowrule-fix-xwayland-dragging
  no_focus = on
  match:class = ^$
  match:title = ^$
  match:xwayland = 1
  match:float = 1
  match:fullscreen = 0
  match:pin = 0
}

# unscale XWayland
xwayland {
  force_zero_scaling = true
}

# toolkit-specific scale
# env = GDK_SCALE,2


